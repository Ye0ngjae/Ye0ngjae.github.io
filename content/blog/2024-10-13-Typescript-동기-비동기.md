---
title: "[Typescript] ë™ê¸° ë¹„ë™ê¸°"
dateString: October 2024
draft: false
tags:
  [
    "Typescript",
    "Javascript",
    "ë™ê¸°",
    "ë¹„ë™ê¸°",
    "Callback",
    "Promise",
    "Async/Await"
  ]
weight: 10
date: 2024-10-13
categories: ["Typescript", "Javascript"]
# cover:
    # image: ""
---
# ë™ê¸°ì™€ ë¹„ë™ê¸°
---
ë™ê¸°ê°€ ì‘ì—…ì˜ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ë©´, ë¹„ë™ê¸°ëŠ” ì‘ì—…ì˜ ì™„ë£Œ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ë°”ë¡œ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

JavascriptëŠ” **ë‹¨ì¼ ìŠ¤ë ˆë“œ ì–¸ì–´**ì´ë‹¤. ì´ëŠ” Javascriptê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ CPUê°€ í”„ë¡œê·¸ë¨ì„ ë™ì‘ì‹œí‚¤ëŠ” ìµœì†Œ ë‹¨ìœ„ì¸ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ë°–ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»ì´ë‹¤. ë§Œì¼ ì›¹ ì„œë²„ì—ì„œ ë™ê¸° APIë¥¼ ì‚¬ìš©í•  ê²½ìš° ì›¹ ì„œë²„ëŠ” í•´ë‹¹ ë™ê¸° APIì˜ ì‘ì—… ìˆ˜í–‰ì„ ì™„ë£Œí•˜ì—¬ ê²°ê´ê°’ì„ ë°˜í™˜í•˜ê¸° ì „ê¹Œì§€ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶”ê¸° ë•Œë¬¸ì— ì›¹ ì„œë²„ì˜ ë°˜ì‘ì„±ì„ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ ì›¹ ì„œë²„ë¥¼ ê°œë°œí•˜ë©´ì„œ ì¼ì • ì‹œê°„ ì´ìƒì´ ì†Œìš”ë˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ, ë™ê¸° APIì˜ ì‚¬ìš©ì„ ìµœëŒ€í•œ ì§€ì–‘í•´ì•¼ í•˜ë©°, ë¹„ë™ê¸° APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²°í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.

í•˜ì§€ë§Œ ë¹„ë™ê¸°ë¡œë§Œ ì½”ë“œë¥¼ ì‘ì„±í•  ê²½ìš° ë‹¤ë¥¸ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

```js
function getDB() {
    let data;
    // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” 3ì´ˆ ê±¸ë¦°ë‹¤ê³  ê°€ì • (ë¹„ë™ê¸° ì²˜ë¦¬)
    setTimeout(() => {
        data = 100;
    }, 3000);

    return data;
}

function main() {
    let value = getDB();
    value *= 2;
    console.log('valueì˜ ê°’ : ', value);
}
main(); // ë©”ì¸ ìŠ¤ë ˆë“œ ì‹¤í–‰

// ì‹¤í–‰ ê²°ê³¼
// valueì˜ ê°’ : NaN
```

ìœ„ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë³´ë©´, ì›ë˜ 3ì´ˆ ë’¤ì— 100ì´ë¼ëŠ” ê°’ì´ ë°˜í™˜ë˜ê³  * 2 ì—°ì‚°ì´ ì§„í–‰ë˜ì–´ 200ì´ ì¶œë ¥ë˜ì–´ì•¼ í–ˆì§€ë§Œ,  getDB í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³  setTimeoutì´ë¼ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì—ˆìŒì—ë„ valueì˜ ê°’ì—ëŠ” NaNê°€ ë“¤ì–´ê°€ ìˆë‹¤.

ì´ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ, ê²°ê³¼ê°€ ë“¤ì–´ì˜¤ì§€ ì•Šë”ë¼ë„ ë°”ë¡œ ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•´ ë²„ë¦¬ê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì´ë‹¤. í•˜ì§€ë§Œ ê¼­ ë¹„ë™ê¸°ë¡œ ì‘ì—…ì˜ ìˆœì„œë¥¼ ë§ì¶”ë©° ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš° callback í•¨ìˆ˜, Promise, Async/Await ë“±ì˜ ë°©ë²•ì„ ê³ ë ¤í•´ ë³¼ ìˆ˜ ìˆë‹¤.

## Typescriptì™€ Javascript

TypescriptëŠ” ì‹¤í–‰ë  ë•Œ NodeJSë‚˜ ë¸Œë¼ìš°ì €ëŠ” Javascriptë§Œ ì½ì–´ë“œë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— Javascriptë¡œ Transpileí•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤. Typescript íŒŒì¼ì„ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ Typescript íŒŒì¼ì€ tsconfigë¥¼ í†µí•´ì„œ Javascriptë¡œ Transpileë˜ì–´ ë™ì‘í•œë‹¤.

# Callback

ì•ì„œ ë§í•œ ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œì˜ ì‘ì—… ìˆœì„œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì²˜ìŒ ë‚˜ì˜¨ ê²ƒì´ ë°”ë¡œ Callback í•¨ìˆ˜ì´ë‹¤. Callback í•¨ìˆ˜ëŠ” í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì— í•¨ìˆ˜ ìì²´ë¥¼ ë„˜ê²¨, í•¨ìˆ˜ ë‚´ì—ì„œ ë§¤ê°œë³€ìˆ˜ì¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ê¸°ë²•ì´ë‹¤.

```js
function getDB(callback) {
    // ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° 3ì´ˆ í›„ì— ë°ì´í„° ê°’ì„ ë°›ì•„ì˜¨ í›„, ì½œë°± í•¨ìˆ˜ í˜¸ì¶œ
    setTimeout(() => {
        const value = 100;
        callback(value);
    }, 3000);
}

function main() {
    // í˜¸ì¶œí•  ì‘ì—…ì— ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê¸´ë‹¤
    getDB(function(value) {
        let data = value * 2;
        console.log('dataì˜ ê°’ : ', data);
    });
}
main();

// ì‹¤í–‰ ê²°ê³¼
// value : 200
```

ìœ„ ì½”ë“œëŠ” callback í•¨ìˆ˜ ë‚´ì—ì„œ data ë³€ìˆ˜ì˜ ê°’ì„ ë°›ì•„ ì¶œë ¥í•˜ë¯€ë¡œ, ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œëœ í›„ì— dataì˜ ê°’ì„ ì¶œë ¥í•˜ê²Œ ëœë‹¤. callback í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ ì‘ì—… ê²°ê³¼ë¥¼ ì „ë‹¬ë°›ì•„ ì²˜ë¦¬í•˜ëŠ”ë° ì‚¬ìš©ë˜ì–´ ì‘ì—… ìˆœì„œë¥¼ ë§ì¶œ ìˆ˜ ìˆê²Œ ëœë‹¤.

í•˜ì§€ë§Œ ë‹¤ìˆ˜ì˜ ë¹„ë™ê¸° ì‘ì—…ì´ í•„ìš”í•  ë•Œ callback í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²½ìš° callback í•¨ìˆ˜ ì•ˆì— callback í•¨ìˆ˜ ì•ˆì— callback í•¨ìˆ˜ ì•ˆì— callback í•¨ìˆ˜ê°€ ë“¤ì–´ê°€ë©°, ì½”ë“œì˜ ëª¨ì–‘ì´ > ê°€ ë˜ì–´ê°€ëŠ” ê´‘ê²½ì„ ëª©ê²©í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” ì½”ë“œë¥¼ ì½ê¸° ì–´ë µê²Œ ë§Œë“¤ë©°, callbackì§€ì˜¥ì— ë¹ ì§ˆ ìˆ˜ ìˆê²Œ í•œë‹¤.

# Promise

callback í•¨ìˆ˜ëŠ” ì •ì‹ì ìœ¼ë¡œ ë¹„ë™ê¸°ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆê²Œë” ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ ì¼ì¢…ì˜ í¸ë²•ì´ë‹¤. PromiseëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ ìˆœì°¨ì  ì²˜ë¦¬ë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì§„ ê°ì²´ì´ë©°, ë¹„ë™ê¸° ì‘ì—…ì˜ ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ì™€ ê·¸ ê²°ê´ê°’ì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ì´ë‹¤. `.then()`ê³¼ `.catch()` ë¥¼ ì´ìš©í•˜ì—¬ ë¹„ë™ê¸° ì‘ì—… ì´í›„ ì§„í–‰ë  ë‹¤ë¥¸ ì‘ì—…ì˜ ì²˜ë¦¬ë¥¼ ì§„í–‰í•œë‹¤.

```js
function getDB() {
  return new Promise((resolve) => {
    setTimeout(() => {
      const value = 100;
      resolve(value);
    }, 3000);
  });
}

function main() {
  getDB()
    .then((value) => {
      let data = value * 2;
      console.log('dataì˜ ê°’ : ', data);
    })
    .catch((error) => {
      console.error(error);
    });
}

main();
```

í•˜ì§€ë§Œ. then()ì„ ì´ìš©í•˜ì—¬ ìˆœì°¨ ì²˜ë¦¬ë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— callback ì§€ì˜¥ê³¼ ê°™ì´ promise ë˜í•œ promise ì§€ì˜¥ì— ë¹ ì§ˆ ìˆ˜ ìˆë‹¤.

# Async / Await

asyncì™€ awaitì€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ ì¶”ê°€ë˜ì—ˆìœ¼ë©°, promiseë¥¼ ê¸°ë°˜ìœ¼ë¡œ  ë™ê¸° í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ë“¯ì´ ê°„í¸í•˜ê²Œ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•˜ë‹¤. ë˜í•œ, í•­ìƒ Promiseì˜ í˜•íƒœë¡œ ê°’ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ Promise ê°ì²´ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js
function getDB() {
    return new Promise((resolve, reject) => {
        // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” 3ì´ˆ ê±¸ë¦°ë‹¤ê³  ê°€ì • (ë¹„ë™ê¸° ì²˜ë¦¬)
        setTimeout(() => {
            const value = 100;
            resolve(value); // Promise ê°ì²´ ë°˜í™˜
        }, 3000);
    });
}

async function main() {
    let data = await getDB(); // await í‚¤ì›Œë“œë¡œ Promiseê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤
    data *= 2;
    console.log('dataì˜ ê°’ : ', data);
}
main(); // ë©”ì¸ ìŠ¤ë ˆë“œ ì‹¤í–‰
```

## ì°¸ê³ 

- [https://inpa.tistory.com/entry/ğŸŒ-js-async#ë¹„ë™ê¸°ì˜_ë³‘ë ¬_ì²˜ë¦¬_ì›ë¦¬](https://inpa.tistory.com/entry/%F0%9F%8C%90-js-async#%EB%B9%84%EB%8F%99%EA%B8%B0%EC%9D%98_%EB%B3%91%EB%A0%AC_%EC%B2%98%EB%A6%AC_%EC%9B%90%EB%A6%AC)
- [https://velog.io/@ko1586/Callbackí•¨ìˆ˜ë€-ë­”ë°](https://velog.io/@ko1586/Callback%ED%95%A8%EC%88%98%EB%9E%80-%EB%AD%94%EB%8D%B0)
- [https://velog.io/@skulter/TypeScript-7.-Promiseì™€-asyncawait-êµ¬ë¬¸](https://velog.io/@skulter/TypeScript-7.-Promise%EC%99%80-asyncawait-%EA%B5%AC%EB%AC%B8)